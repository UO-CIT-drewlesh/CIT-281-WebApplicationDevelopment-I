<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lab 5 - JSONPlaceholder Demo</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  h1 { color: #2c3e50; }
  input, button { margin: 5px; padding: 5px; }
  #results { margin-top: 20px; }
  .photo-card { border: 1px solid #ccc; padding: 10px; margin: 5px; display: inline-block; width: 150px; text-align: center; }
  img { max-width: 100%; height: auto; }
</style>
</head>
<body>

<h1>Lab 5 Demo: JSONPlaceholder Photos</h1>

<div>
  <button id="fetchAllBtn">Fetch All Photos (First 10)</button>
</div>

<div>
  <input type="number" id="photoId" placeholder="Enter Photo ID">
  <button id="fetchByIdBtn">Fetch Photo by ID</button>
</div>

<div id="results"></div>

<script>
const resultsDiv = document.getElementById('results');

// Fetch all photos (limited to first 10)
document.getElementById('fetchAllBtn').addEventListener('click', () => {
  resultsDiv.innerHTML = 'Loading...';
  fetch('https://jsonplaceholder.typicode.com/photos?_limit=10')
    .then(res => res.json())
    .then(data => {
      displayPhotos(data);
    })
    .catch(err => {
      resultsDiv.innerHTML = 'Error fetching photos';
      console.error(err);
    });
});

// Fetch a single photo by ID
document.getElementById('fetchByIdBtn').addEventListener('click', () => {
  const id = document.getElementById('photoId').value;
  if (!id) {
    alert('Please enter a photo ID');
    return;
  }
  resultsDiv.innerHTML = 'Loading...';
  fetch(`https://jsonplaceholder.typicode.com/photos/${id}`)
    .then(res => {
      if (!res.ok) throw new Error('Photo not found');
      return res.json();
    })
    .then(data => {
      displayPhotos([data]);
    })
    .catch(err => {
      resultsDiv.innerHTML = 'Photo not found';
      console.error(err);
    });
});

// Helper function to render photos
function displayPhotos(photos) {
  if (!photos || photos.length === 0) {
    resultsDiv.innerHTML = 'No photos to display';
    return;
  }
  resultsDiv.innerHTML = '';
  photos.forEach(photo => {
    const div = document.createElement('div');
    div.className = 'photo-card';
    div.innerHTML = `
      <img src="${photo.thumbnailUrl}" alt="${photo.title}">
      <p><strong>ID:</strong> ${photo.id}</p>
      <p>${photo.title}</p>
    `;
    resultsDiv.appendChild(div);
  });
}
</script>

</body>
</html>
