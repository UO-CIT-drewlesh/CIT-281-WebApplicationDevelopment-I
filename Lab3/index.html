<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lab 3 Student API Demo</title>
<style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    input, button { margin: 0.25rem 0; padding: 0.25rem 0.5rem; }
    pre { background-color: #f0f0f0; padding: 1rem; }
</style>
</head>
<body>
<h1>Lab 3: Student API Demo (Browser Simulation)</h1>
<p><em>Note: This is a demo. Data is stored locally in the browser.</em></p>

<h2>All Students</h2>
<button onclick="listStudents()">List Students</button>
<pre id="allStudents"></pre>

<h2>Get Student by ID</h2>
<input type="number" id="studentId" placeholder="Enter ID">
<button onclick="getStudent()">Get Student</button>
<pre id="studentOutput"></pre>

<h2>Add Student</h2>
<input type="text" id="firstName" placeholder="First Name">
<input type="text" id="lastName" placeholder="Last Name">
<button onclick="addStudent()">Add Student</button>
<pre id="addOutput"></pre>

<script>
// Demo data simulating server
let students = [
  { id: 1, first: "First1", last: "Last1" },
  { id: 2, first: "First2", last: "Last2" },
  { id: 3, first: "First3", last: "Last3" }
];

// Simulate GET /cit/student
function listStudents() {
  document.getElementById('allStudents').innerText = JSON.stringify(students, null, 2);
}

// Simulate GET /cit/student/:id
function getStudent() {
  const id = parseInt(document.getElementById('studentId').value);
  const student = students.find(s => s.id === id);
  document.getElementById('studentOutput').innerText = student
    ? JSON.stringify(student, null, 2)
    : `Error: ID ${id} not found`;
}

// Simulate POST /cit/student
function addStudent() {
  const first = document.getElementById('firstName').value;
  const last = document.getElementById('lastName').value;
  if (!first || !last) {
    document.getElementById('addOutput').innerText = "Please enter both first and last name.";
    return;
  }
  const newId = students.reduce((max, s) => s.id > max ? s.id : max, 0) + 1;
  const newStudent = { id: newId, first, last };
  students.push(newStudent);
  document.getElementById('addOutput').innerText = `Added student:\n${JSON.stringify(newStudent, null, 2)}`;
  document.getElementById('firstName').value = "";
  document.getElementById('lastName').value = "";
}
</script>
</body>
</html>
